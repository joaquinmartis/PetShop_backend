# ========================================

# APPLICATION

# ========================================

spring.application.name=VirtualPet

server.port=8080



# ========================================

# DATABASE CONFIGURATION

# ========================================

# Variables de entorno con valores por defecto para desarrollo local

# Producci?n: configurar DB_USERNAME, DB_PASSWORD como variables de entorno


spring.datasource.url=jdbc:postgresql://localhost:5432/virtualpet

spring.datasource.username=${DB_USERNAME:virtualpet_user}


spring.datasource.password=${DB_PASSWORD:virtualpet123}

spring.datasource.driver-class-name=org.postgresql.Driver



# JPA / HIBERNATE

spring.jpa.hibernate.ddl-auto=none

spring.jpa.show-sql=true

spring.jpa.properties.hibernate.format_sql=true

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect



# ========================================

# SECURITY / JWT

# ========================================

# Variables de entorno con valores por defecto para desarrollo local

# Producci?n: configurar JWT_SECRET como variable de entorno con al menos 256 bits

# Generar: openssl rand -base64 64

jwt.secret=${JWT_SECRET:miClaveSecretaSuperSeguraDeAlMenos256BitsParaFirmarTokensJWT123456789}

jwt.expiration=${JWT_EXPIRATION:3600000}



# ========================================

# COOKIES CONFIGURATION (HttpOnly para JWT)

# ========================================

cookie.secure=${COOKIE_SECURE:true}

cookie.same-site=${COOKIE_SAME_SITE:None}

cookie.max-age=${COOKIE_MAX_AGE:3600}



# ========================================

# CORS CONFIGURATION

# ========================================

# Frontend origin (puerto 5173 para Vite)

cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://127.0.0.1:5173,https://virtualpet-963fb.web.app}



# ========================================

# EMAIL CONFIGURATION CON BREVO

# ========================================

# Configuracion con Brevo para envio REAL de emails

spring.mail.host=smtp-relay.brevo.com

spring.mail.port=587

# Login de Brevo (el que te dieron) - para AUTENTICACION

spring.mail.username=9cd992001@smtp-brevo.com

# Password de Brevo (el que te dieron)

spring.mail.password=7ItYfn2kgUGCaHbw

spring.mail.properties.mail.smtp.auth=true

spring.mail.properties.mail.smtp.starttls.enable=true

spring.mail.properties.mail.smtp.starttls.required=false



# Email del REMITENTE (debe estar verificado en Brevo Senders)

# IMPORTANTE: Ve a Brevo -> Senders y verifica este email primero

mail.from.address=gonzaaaleon@gmail.com

mail.from.name=VirtualPet - Tienda de Mascotas



# ========================================

# TELEGRAM CONFIGURATION

# ========================================

# Configuraci?n de Telegram Bot para notificaciones
# Bot: @virtualpet88_bot (https://t.me/virtualpet88_bot)
telegram.bot.token=8591167186:AAEmE2DVN61NDYo0LZ7CNNUbBRqFufoskPU
telegram.bot.enabled=true



# ========================================

# SPRINGDOC / SWAGGER UI

# ========================================

# Ruta de la documentaci?n OpenAPI JSON (ruta est?ndar de SpringDoc v2)

springdoc.api-docs.path=/v3/api-docs

# Ruta de Swagger UI

springdoc.swagger-ui.path=/swagger-ui.html

# Ordenar endpoints por m?todo HTTP

springdoc.swagger-ui.operations-sorter=method

# Ordenar tags alfab?ticamente

springdoc.swagger-ui.tags-sorter=alpha

# Habilitar filtro de b?squeda

springdoc.swagger-ui.filter=true

# Mostrar duraci?n de requests

springdoc.swagger-ui.display-request-duration=true

# Paths a escanear (solo controladores, NO config)

springdoc.packages-to-scan=com.virtualpet.ecommerce.modules

# Paths a incluir

springdoc.paths-to-match=/api/**

# Excluir clases de configuraci?n del escaneo

springdoc.packages-to-exclude=

# ========================================
# NOTIFICATIONS CONFIGURATION
# ========================================

# Email Notifications (para producci?n con servidor SMTP real)
notification.email.enabled=false
notification.email.from=noreply@virtualpet.com

# Gmail SMTP Configuration (descomentar y configurar para usar Gmail)
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=tu-email@gmail.com
# spring.mail.password=tu-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# Telegram Notifications (configurar con tu bot token)
notification.telegram.enabled=false
notification.telegram.bot-token=

# SMS Notifications (para proveedores como Twilio, AWS SNS, etc)
notification.sms.enabled=false


# ========================================
# PROXY / TRUSTED HEADERS CONFIGURATION (CRITICAL FOR GOOGLE APP ENGINE)
# ========================================
# Google App Engine uses X-Forwarded-* headers
server.forward-headers-strategy=FRAMEWORK

# Tomcat configuration to trust proxies
server.tomcat.remoteip.protocol-header=X-Forwarded-Proto
server.tomcat.remoteip.remote-ip-header=X-Forwarded-For
server.tomcat.remoteip.protocol-header-https-value=https